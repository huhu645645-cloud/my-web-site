# 国内部署与访问说明

本项目已做以下调整，便于在国内环境正常使用：

## 已做的代码调整

1. **字体**：已移除对 Google Fonts 的依赖，改用系统字体（如 PingFang SC、Microsoft YaHei），国内访问不会因字体加载慢或失败而卡顿。
2. **统计**：已移除 Vercel Analytics，避免国内访问时请求境外统计脚本导致页面变慢或失败。

## 登录功能（Clerk）在国内的说明

- **Clerk** 的服务器在境外（api.clerk.com 等），国内访问可能偏慢或偶发超时。
- 当前保留 Clerk 时：登录/注册页面在国内仍可使用，若出现加载慢，可多等几秒或刷新。
- 若你希望**完全国内化**登录体验，可后续考虑：
  - 使用**手机号 + 验证码**（接入阿里云、腾讯云等短信服务）；
  - 或**微信开放平台**登录；
  - 或其它国内身份服务（如 Authing 国内节点等）。

## 部署到国内可访问的网站

### 方式一：部署到国内云服务器（推荐，访问最稳定）

1. **选一家国内云**：阿里云、腾讯云、华为云等。
2. **买一台轻量/ECS**：系统选 Linux（如 Ubuntu），内存 1G 以上即可。
3. **在服务器上**：
   - 安装 Node.js（建议 18+ 或 20+）；
   - 把本仓库代码上传（git clone 或本地上传）；
   - 在项目目录执行：`pnpm install`，然后 `pnpm build`，最后 `pnpm start`（或用 pm2 守护进程）。
4. **域名与备案**：
   - 若使用自己的域名且服务器在国内，需要在对应云厂商做 **ICP 备案**；
   - 备案通过后，把域名解析到该服务器 IP，即可用域名访问。

### 方式二：部署到 Vercel / 海外服务器

- 部署到 Vercel 或其它海外主机，**不需要备案**，但国内用户访问速度可能较慢或偶发超时。
- 若仍使用 Clerk，登录请求会发往境外，和现在本地开发时的行为一致。

## 环境变量

部署时在服务器或托管平台配置好：

- `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
- `CLERK_SECRET_KEY`

与本地 `.env.local` 中一致即可（使用同一 Clerk 应用）。

## 小结

- **页面与字体**：已不依赖 Google、Vercel 统计，国内直接访问页面即可正常显示。
- **登录**：Clerk 在国内可用但可能偏慢；若要更好体验，可后续替换为手机号/微信等国内登录方案。
- **真正“国内可用的网站”**：把项目部署到国内云并完成备案后，用国内域名访问即可。
